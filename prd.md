Yet Another Economy PRD（产品需求文档）

1.1 产品目标与原则
目标

提供全服统一、稳定、可扩展的经济系统：交易、系统商店、系统回收、银行、税费全覆盖。(提供完整的可拓展接口以及可复用组件确保可以轻松增加功能)

让普通玩家“只用 GUI 就能完成 95% 操作”，减少指令学习成本。

防呆：避免误操作（误买、误卖、误上架、误贷款），避免经济漏洞（刷钱闭环）。

可治理：管理员可以一键冻结、回滚、审计，且所有行为可追溯（总账）。

自动化：税费包含在消费中，无需申报，购买物品时自动包含。

核心原则

“价格唯一真相”：所有 UI 显示的参考价、区间、税费、回购价、商店价都来自 标准价格系统。

“交易必记账”：任何资金/物资变化必须写入 Ledger（含失败原因与取消）。

“无脑可用但不无脑送钱”：默认参数保守，利率/税费/差价防闭环。

1.2 用户与场景
玩家

新手：只想买基础物资、把多余东西卖掉、偶尔卖出/接订单赚钱。

商人：做订单、拍卖、公司供货、跨物品套利、追踪价格。

“肝帝工程师”：需要贷款扩产

管理员

调参：税率、利率、标准价格系统平滑系数、黑名单物品、交易限额。 

风控与审计：冻结账户、回滚某时间段、查看异常报告。

1.3 功能范围（MVP vs 完整版）

标准价格系统 价格中心 + API + 价格广播缓存

Shop、Sell、Auction、Order 基础功能

Bank：存款账户、定期/活期利息、贷款（授信上限/抵押/还款计划）、自动扣款、逾期处理

ChestGUI 全流程 + 指令兜底（只保留管理员和紧急用指令）

银行：动态利率（跟全服货币供应/通胀挂钩）、信用评分

反洗钱：关联账户图谱、异常成交自动加税/冻结建议


1.4 关键设计约束与防呆策略
防呆（玩家侧）

所有“花钱/卖出/贷款/上市/退保”必须经过二次确认界面。

所有数量调整使用“+1/+10/+64/Max/输入”五件套，默认不允许直接点一下就成交。

所有价格输入默认展示 标准价格系统 参考价与建议区间，并提示“偏离将增加税费/手续费”。

所有不可逆动作提供 10 秒撤销窗口（可配置），撤销也写账本。

防漏洞（经济侧）

Shop 售价 > 标准价格系统，Sell 回收价 < 标准价格系统，且差价覆盖所有手续费，保证不闭环刷钱。

税费随偏离 标准价格系统 band 增长；低流动性物品的 标准价格系统 更新更慢、band 更窄或锁价。

贷款需要抵押或授信上限；逾期会冻结部分功能/扣押抵押。

保险赔付触发冷却和反作弊规则（见保险章节）。

1.5 指标（可量化）

GUI 操作完成率：>90% 的交易无需指令

新手完成“买基础物资/卖垃圾/挂拍卖/接订单”路径 < 3 分钟

经济稳定：热门物品 7 日波动率在可控范围；出现刷钱闭环为 0

风控：异常成交识别命中率（人工确认后）>70%

二、UI/UX（ChestGUI）总流程设计

2.1 入口与导航（强烈建议做成一个“经济菜单中枢”）
入口

命令：/yae 打开主菜单（唯一记忆点）

可选：物品（“经济手册”）右键打开

主菜单（54 格，6 行）布局建议

第 1 行：玩家信息条（余额、净资产估算、信用评分、保险状态、今日交易税优惠/惩罚提示）

中间区域：模块入口按钮

底行：返回/关闭/帮助/搜索

模块入口（建议 9 个大入口）

Shop（基础商店）

Sell（系统回收）

Market（玩家市场：Auction + Order 的统一入口）

Bank（银行）

Price Index（价格指数/行情）

History（个人流水）

防呆导航原则

所有子页面右下角固定：返回上一页；右下中：回主菜单；右下左：关闭

顶部固定面包屑（用箱子标题 显示“主菜单 > 市场 > 拍卖 > 上架确认”）

2.2 统一交互组件（全系统复用）
A. 物品选择器 ItemPicker

支持：从背包选、从收藏夹选、从搜索结果选

显示：标准价格系统 价、band、近 7 天涨跌、流动性 LIQ（用简单等级：低/中/高）

B. 数量选择器 QtyStepper

按钮：-64 -10 -1 | 显示当前数量 | +1 +10 +64 | Max


超出库存/上限按钮灰掉（不可点）

C. 价格输入 PriceSetter

默认填 标准价格系统 价（或 标准价格系统±建议）

提供按钮：标准价格系统、标准价格系统×0.9、标准价格系统×1.1、手动输入（聊天输入）

显示“偏离惩罚”：预估税费与手续费实时更新

D. 二次确认 ConfirmScreen（统一模板）

左侧显示你将支付/获得什么

中间显示费用明细（税、手续费、保险费、利息等）

右侧两个大按钮：确认（绿）/取消（红）

右下角显示“10 秒内可撤销”（如适用）

E. 交易回执 Receipt

成功后弹出：交易编号、时间、对手方、单价/数量、总额、费用、标准价格系统 参考价

提供：复制编号（聊天）、查看流水、继续同类操作（再上架/再下单）

三、模块级 UI/UX 流程（玩家视角）

3.1 Shop（基础商店）
流程：主菜单 -> Shop -> 分类/搜索 -> 物品详情 -> 选数量 -> 确认 -> 回执
物品详情页显示

商店价、标准价格系统 价、band

今日限购（如开启）

若库存系统开启：库存与预计补货时间（可选）

防呆点

默认数量 1，不允许“单击直接购买”

钱不够时按钮变灰，同时提示“去银行贷款/去卖东西/去接订单”

3.2 Sell（系统回收）
流程：主菜单 -> Sell -> “从背包选择物品” -> 显示可回收列表 -> 选物品 -> 选数量 -> 确认 -> 回执
页面要点

回收价 = 标准价格系统×r_buyback（显示 r）

每日回收限额（如开启）

对“高风险物品”（易刷）显示额外提醒/更低回收系数

防呆点

默认只显示“可回收”的物品，其它物品不可点

显示“回收后不可撤回”的提示（但可给 10 秒撤销资金结算，物品归还需可行才做）

3.3 Market（玩家市场统一入口）
Market 子入口：Auction（卖） / Orders（买）
提供一个“行情面板”：热门物品、涨跌榜、成交量榜

Auction（出售，不是真的拍卖，只是给其他玩家卖物品）

上架流程：选择物品 -> 选数量 -> -> 设定价格 -> 设定时长 -> 确认 -> 回执

浏览/购买：列表 -> 详情 -> 出价/购买 -> 确认

Orders（求购）

发布订单：选物品 -> 数量 -> 单价 -> 有效期 -> 冻结资金确认

接单交付：订单列表 -> 详情 -> 选择交付数量（受背包限制）-> 确认 -> 回执

防呆点

上架/下单前显示“标准价格系统 建议区间”，偏离过大要额外二次确认（多一层“我知道我在干嘛”）

取消订单/下架拍卖：显示可能损失的上架费/取消费


四、Bank（银行）PRD + UX

4.1 银行提供的能力
账户

活期余额（可随时存取，利率低）

定期存款（锁定期，利率高，提前支取罚息）

贷款

个人贷款：用于买设备/扩产/应急


贷款模式：

抵押贷款：抵押物为指定资产（货币、物品、股票）

信用贷款：基于信用评分与历史现金流（保守起步）

还款方式：等额本息 / 到期还本付息（两种就够用）

风控

授信上限：按净资产估算与历史还款记录计算

逾期处理：自动扣款 -> 罚息 -> 限制交易/冻结上架 -> 扣押抵押 -> 最终黑名单（管理员可解）

4.2 Bank ChestGUI 流程
主菜单 -> Bank
Bank 首页显示

可用余额、活期利率、信用评分、当前负债、下次还款时间
按钮

存款

取款

定期存款

贷款申请

我的贷款（还款/提前还款/计划表）

信用报告（为什么我授信这么少）

存款/取款

选金额（+1/+10/+100/+1000/Max + 手动输入）

确认 -> 回执

定期存款

选期限（7/14/30/60/90 天）

显示利率与到期收益

确认锁定（强提示“提前支取罚息”）

贷款申请（防呆重点）
Step1 选模式：抵押/信用（信用不可用就置灰并告诉原因）
Step2 选金额与期限
Step3 展示“还款计划表”（每期金额、总利息、最晚扣款时间）
Step4（抵押模式）选抵押物：货币/物品/股票，显示抵押折扣率（haircut）
Step5 二次确认 + 冷静提示（比如“确认后资金立刻到账并开始计息”）

我的贷款

列表：剩余本金、利率、下期应还、是否逾期

点击进入：立即还款/提前还款/查看计划/设置自动还款来源（Vault/银行账户）
